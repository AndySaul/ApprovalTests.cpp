<!--
GENERATED FILE - DO NOT EDIT
This file was generated by [MarkdownSnippets](https://github.com/SimonCropp/MarkdownSnippets).
Source File: /doc/mdsource/Reporters.source.md
To change this file edit the source file and then run MarkdownSnippets.
-->

<a id="top"></a>

# Reporter



<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
**Contents**

- [Supported Diff Tools](#supported-diff-tools)
  - [Mac](#mac)
  - [Linux](#linux)
  - [Windows](#windows)
- [Registering a default reporter](#registering-a-default-reporter)
- [Miscellaneous Helper Reporters](#miscellaneous-helper-reporters)
  - [Auto-approving](#auto-approving)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

## Supported Diff Tools

The DiffReporter class goes through a chain of possible reporters to find the first option installed on your system.
Currently the search goes in this order:

### Mac

<!-- snippet: mac_diff_reporters -->
```h
new BeyondCompareReporter(),
new DiffMergeReporter(),
new KaleidoscopeReporter(),
new P4MergeReporter(),
new KDiff3Reporter(),
new TkDiffReporter(),
new VisualStudioCodeReporter()
```
<sup>[snippet source](/ApprovalTests/reporters/MacReporters.h#L48-L56)</sup>
<!-- endsnippet -->

### Linux

<!-- snippet: linux_diff_reporters -->
```h
new MeldReporter(),
new KDiff3Reporter()
```
<sup>[snippet source](/ApprovalTests/reporters/LinuxReporters.h#L25-L28)</sup>
<!-- endsnippet -->

### Windows

<!-- snippet: windows_diff_reporters -->
```h
new TortoiseDiffReporter(),
new BeyondCompareReporter(),
new WinMergeReporter(),
new AraxisMergeReporter(),
new CodeCompareReporter(),
new KDiff3Reporter(),
new VisualStudioCodeReporter(),
```
<sup>[snippet source](/ApprovalTests/reporters/WindowsReporters.h#L71-L79)</sup>
<!-- endsnippet -->

## Registering a default reporter

At present, the default Reporter is the DiffReporter. Whenever you call Approvals, you have the chance to pass in your own Reporter. However, if you would like to change what the default reporter is when you don't pass in a specific Reporter, you can do this at a global or per-test level, by adding the line:

<!-- snippet: use_as_default_reporter_in_main -->
```cpp
// main.cpp:
#include <memory>
auto defaultReporterDisposer = Approvals::useAsDefaultReporter( std::make_shared<DiffReporter>() );
```
<sup>[snippet source](/ApprovalTests_Catch2_Tests/main.cpp#L16-L20)</sup>
<!-- endsnippet -->

The return value will restore the original reporter when the object destructs. Because of this, if you do not store the result in a variable, it will immediately undo itself by the end of the line.

## Miscellaneous Helper Reporters

While most reporters open some sort of external program, for the purpose of understanding how the tests went wrong, and verifying the correct answer, there are some reporters that are helpful for specific situations.

### Auto-approving

There are three reporters that can help with the approving of single or multiple tests.

* `AutoApproveIfMissingReporter`: if there is no approved file already, the received file will automatically be copied over the approved one. Otherwise, it does nothing. One possible cause for confusion here is if you ran the test previously with a standard reporter, that will have created an almost-empty approved file, which will then block this from working.
* `ClipboardReporter`: this puts the command-line to moved the approve file on to your computer's clipboard. You then review this, and paste it in to a terminal window. This only works with one test at a time.
* `AutoApproveReporter`: be careful, this will overwrite every existing ".approved" file, with no confirmation. This is best used when you are expecting large numbers of files that are already version-controlled to be updated, and you would rather review the changes in your control system. 

---

[Back to User Guide](/doc/README.md#top)

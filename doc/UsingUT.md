<!--
GENERATED FILE - DO NOT EDIT
This file was generated by [MarkdownSnippets](https://github.com/SimonCropp/MarkdownSnippets).
Source File: /doc/mdsource/UsingDoctest.source.md
To change this file edit the source file and then execute ./run_markdown_templates.sh.
-->

<a id="top"></a>

# Using Approval Tests With \[Boost\].UT


<!-- toc -->
## Contents

  * [Getting Started With \[Boost\].UT](#getting-started-with-ut)
    * [Requirements](#requirements)
    * [New Project](#new-project)
<!-- endtoc -->



## Getting Started With \[Boost\].UT

The [\[Boost\].UT](https://github.com/boost-experimental/ut) test framework works well with Approval Tests.

\[Boost\].UT is a single header/single module, macro-free Î¼(micro)/Unit Testing Framework that requires C++17 / C++20

### Requirements

Approval Tests for \[Boost\].UT requires that a file called `ut.hpp` is found.

Approval Tests needs \[Boost\].UT version 1.1.4 or above.

### Usage example

Add the following two lines to your source code:

<!-- snippet: ut_main -->
<a id='snippet-ut_main'/></a>
```cpp
// main.cpp:
#define APPROVALS_UT
#include "ApprovalTests.hpp"
```
<sup>[snippet source](/tests/UT_Tests/main.cpp#L1-L5) / [anchor](#snippet-ut_main)</sup>
<!-- endsnippet -->

Bellow is an example of a call to an approval test inside a \[Boost\].UT test:

<!-- snippet: ut_main_usage -->
<a id='snippet-ut_main_usage'/></a>
```cpp
// main.cpp:
int main()
{
    using namespace boost::ut;
    using namespace ApprovalTests;

	"Approval"_test = []() {
        expect(nothrow([] {
            Approvals::verify("Approval Tests can verify text via the golder master method");
        }));
	};
}
```
<sup>[snippet source](/tests/UT_Tests/main.cpp#L10-L19) / [anchor](#snippet-ut_main_usage)</sup>
<!-- endsnippet -->

In the following example, two instances of ApprovalTests are called inside the same test:

<!-- snippet: ut_main_multiple -->
<a id='snippet-ut_main_multiple'/></a>
```cpp
int main()
{
    using namespace boost::ut;
    using namespace ApprovalTests;

	"Approval"_test = []() {
        expect(nothrow([] { 
            auto section = NamerFactory::appendToOutputFilename("test 1");
            Approvals::verify("First Approval Test"); 
        }));

        expect(nothrow([] { 
            auto section = NamerFactory::appendToOutputFilename("test 2");
            Approvals::verify("Second Approval Test"); 
        }));
    };
}
```
<sup>[snippet source](/tests/UT_Tests/main.cpp#L25-L41) / [anchor](#snippet-ut_main_multiple)</sup>
<!-- endsnippet -->


---

[Back to User Guide](/doc/README.md#top)

<!--
GENERATED FILE - DO NOT EDIT
This file was generated by [MarkdownSnippets](https://github.com/SimonCropp/MarkdownSnippets).
Source File: /doc/mdsource/UsingDoctest.source.md
To change this file edit the source file and then run MarkdownSnippets.
-->

<a id="top"></a>

# Using Approval Tests With doctest


<!-- toc -->
## Contents

  * [Getting Started With doctest](#getting-started-with-doctest)
    * [New Project](#new-project)
  * [Limitations](#limitations)
<!-- endtoc -->




## Getting Started With doctest

The [doctest](https://github.com/onqtam/doctest) test framework works fairly well with Approval Tests.

Doctest is similar to Catch, but claims to give faster compilation times.

### New Project

Create a file `main.cpp` and add just the following two lines:

<!-- snippet: doctest_main -->
```cpp
// main.cpp:
#define APPROVALS_DOCTEST // This tells Approval Tests to provide a main() - only do this in one cpp file
#include "ApprovalTests.hpp"
```
<sup>[snippet source](/ApprovalTests_DocTest_Tests/main.cpp#L1-L5)</sup>
<!-- endsnippet -->

## Limitations

Currently, Approval Tests overrides any [`--reporter` command-line argument](https://github.com/onqtam/doctest/blob/master/doc/markdown/reporters.md) supplied.
This is needed for Approval Tests to function with doctest. The Approval Tests reporter works like doctest's `console` reporter. This means that it is not possible to run Approval Tests with the doctest test framework, and use reporters such as `xml`.

We currently do not have a better workaround.

---

[Back to User Guide](/doc/README.md#top)

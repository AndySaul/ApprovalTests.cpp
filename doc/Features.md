<!--
GENERATED FILE - DO NOT EDIT
This file was generated by [MarkdownSnippets](https://github.com/SimonCropp/MarkdownSnippets).
Source File: /doc/mdsource/Features.source.md
To change this file edit the source file and then execute ./run_markdown_templates.sh.
-->

<a id="top"></a>

# Features



<!-- toc -->
## Contents

  * [Registering a Custom Namer](#registering-a-custom-namer)
  * [Customizing Google Tests Approval File Names](#customizing-google-tests-approval-file-names)
  * [Blocking Reporter](#blocking-reporter)
  * [Machine Blockers](#machine-blockers)
  * [Front Loaded Reporters](#front-loaded-reporters)
  * [Using sub-directories for approved files](#using-sub-directories-for-approved-files)
<!-- endtoc -->


## Registering a Custom Namer

See [Registering a Custom Namer](/doc/Namers.md#registering-a-custom-namer)

## Customizing Google Tests Approval File Names

See [Using Approval Tests With Google Tests](/doc/UsingGoogleTests.md#customizing-google-tests-approval-file-names)

## Blocking Reporter

Blocking reporters are a simple class, designed for use with FrontLoadedReporters, to prevent launching of reporters in certain environments.

<!-- snippet: do_not_report_on_ci -->
<a id='snippet-do_not_report_on_ci'/></a>
```cpp
// main.cpp
auto frontLoadedReportDisposer = Approvals::useAsFrontLoadedReporter(
    BlockingReporter::onMachineNamed("MyCIMachineName") );
```
<sup>[snippet source](/examples/googletest_existing_main/main.cpp#L19-L23) / [anchor](#snippet-do_not_report_on_ci)</sup>
<!-- endsnippet -->

## Machine Blockers

Sometimes you will want tests to only run on certain machines. Machine blockers are a great way to do this.

<!-- snippet: machine_specific_test_runner -->
<a id='snippet-machine_specific_test_runner'/></a>
```cpp
TEST_CASE("Only run this test on John's machine")
{
    auto blocker = MachineBlocker::onMachinesNotNamed("JOHNS_MACHINE");
    if ( blocker.isBlockingOnThisMachine() )
    {
        return;
    }
    // Write tests here that depend on John's environment.
    REQUIRE(SystemUtils::getMachineName() == "JOHNS_MACHINE");
}
```
<sup>[snippet source](/ApprovalTests_Catch2_Tests/utilities/MachineBlockerTests.cpp#L21-L32) / [anchor](#snippet-machine_specific_test_runner)</sup>
<!-- endsnippet -->

## Front Loaded Reporters

Other times, you will want to run the tests on all machines, but only report if certain conditions are true. Front loaded reporters allow a mechanism to jump in front of the standard Reporter path, and divert early.

Here is an example of not launching any reporters of you are on the CI machine.

<!-- snippet: do_not_report_on_ci -->
<a id='snippet-do_not_report_on_ci'/></a>
```cpp
// main.cpp
auto frontLoadedReportDisposer = Approvals::useAsFrontLoadedReporter(
    BlockingReporter::onMachineNamed("MyCIMachineName") );
```
<sup>[snippet source](/examples/googletest_existing_main/main.cpp#L19-L23) / [anchor](#snippet-do_not_report_on_ci)</sup>
<!-- endsnippet -->

Once you have added that, even calling approvals with a specific Reporter will not launch it on the CI system (but will for all other systems). For example:

<!-- snippet: basic_approval_with_reporter -->
<a id='snippet-basic_approval_with_reporter'/></a>
```cpp
Approvals::verify("text to be verified", Windows::AraxisMergeReporter());
```
<sup>[snippet source](/examples/googletest_existing_main/GoogleTestApprovalsTests.cpp#L11-L13) / [anchor](#snippet-basic_approval_with_reporter)</sup>
<!-- endsnippet -->

## Using sub-directories for approved files

See [Using sub-directories for approved files](/doc/Configuration.md#using-sub-directories-for-approved-files)


---

[Back to User Guide](/doc/README.md#top)
